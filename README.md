# 产品需求文档（PRD）：智能行动建议聊天应用

## 一、产品定位

本产品是一款以“智能行动建议”为核心的聊天工具，支持基础对话、AI驱动的上下文理解与行动建议、特色消息卡片展示及卡片置顶等功能。目标是让用户在聊天过程中，获得更高效、更智能的辅助体验。网页版为功能演示和原型，未来将以 iOS App 为主力产品形态。

---

## 二、核心功能

### 1. 基础聊天功能

- 支持用户与联系人进行实时文本消息交流。
- 消息气泡样式美观，适配移动端，支持长消息自动换行。
- 支持消息自动滚动到底部，输入框固定在底部，适配移动端键盘弹出。
- 支持消息历史浏览，消息区可滚动。

### 2. 智能行动建议

- 系统可基于聊天内容，自动识别用户意图，给出相关行动建议（如订票、约会、查天气等）。
- 行动建议以“建议条”形式出现在相关消息下方，内容简洁明了，带有一键确认按钮。
- 行动建议可由AI模型、规则引擎或后端服务生成，支持多种类型（如航班、酒店、日程等）。

### 3. 特色消息卡片

- 用户点击建议条的“确认”按钮后，系统自动在消息流中插入一条“特色消息卡片”。
- 消息卡片内容丰富，支持航班、酒店、日程等多种类型，展示关键信息（如航班号、起降地、时间、价格等）。
- 卡片支持展开/收起，展开后可显示更多详细信息（如登机口、航班状态、备注等）。
- 卡片在消息流中居中展示，表示属于整个会话而非某一方用户。

### 4. 消息卡片置顶

- 用户可对消息流中的卡片进行“置顶”操作（如双击卡片弹出菜单选择置顶）。
- 置顶卡片会显示在聊天顶部栏下方，宽度更大，排版更突出，便于随时查看。
- 置顶后，原消息流位置仅显示一个小巧灰色气泡，提示“卡片已置顶”，避免重复内容。
- 置顶卡片可再次双击弹出菜单，选择“取消置顶”或“一键回到消息流原位置”。
- 支持多种卡片类型的置顶，未来可扩展为多卡片置顶或置顶优先级管理。

---

## 三、界面与交互

### 1. 顶部栏
- 显示联系人头像、昵称，风格简洁。
- 置顶卡片紧随其下，顶部区域始终固定可见。

### 2. 聊天内容区
- 展示消息气泡、建议条、特色卡片。
- 卡片居中，普通消息左右对齐。
- 建议条样式简洁，按钮突出。

### 3. 输入区
- 固定在底部，随键盘弹出上推。
- 支持发送文本消息，未来可扩展语音、图片等。

### 4. 移动端适配
- 顶部栏和置顶卡片固定，内容区和输入区自适应高度。
- 输入框聚焦时内容自动滚动到底部，避免被键盘遮挡。
- 兼容 iOS/Android，避免 100vh 问题，input 字体16px。

---

## 四、技术实现要点

- 前端：React + TailwindCSS，移动端适配，JS动态设置视口高度。
- 消息、建议、卡片、置顶等状态用 React 状态管理。
- 特色卡片组件支持展开/收起，内容可配置。
- 置顶逻辑与原消息流联动，避免重复展示。
- 未来可对接后端/AI服务，实现更智能的建议生成。

---

## 五、未来扩展方向

- 支持多种类型的智能建议与卡片（如酒店、日程、外卖等）。
- 支持多卡片置顶、卡片优先级管理。
- 支持多端同步（iOS/Android/Web）。
- 深度集成AI，提升建议的智能化和个性化。
- 丰富的消息类型（图片、语音、文件等）。

---

## 六、应用场景举例

- 朋友聊天时，AI自动识别出出行意图，推荐航班并一键生成卡片，置顶后随时查阅。
- 工作群聊中，AI识别会议安排，自动生成日程卡片，置顶后方便所有成员查看。
- 生活服务类建议（如订餐、查天气、订酒店）一键生成卡片，提升效率。

---

## 七、网页版定位

- 作为产品原型和演示，便于快速验证交互和功能。
- 为 iOS App 正式开发提供参考和测试基础。
